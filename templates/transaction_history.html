{% extends "layout.html" %}

{% block content %}
<div class="container mx-auto p-4">
    <h1 class="ui header">ðŸ“œTransaction History</h1>
    <div
      id="transactions"
      role="tabpanel"
      aria-labelledby="transaction-tab"
      class="p-4 border rounded-lg bg-white"
    >
      <h4 class="text-center">
        <b style="font-size: medium">All Transactions</b>
      </h4>
      <br />
      <div class="overflow-auto h-64">
        <table class="min-w-full bg-white">
          <thead class="bg-gray-200">
            <tr>
              <th class="py-2 px-4 border">Date</th>
              <th class="py-2 px-4 border">Symbol</th>
              <th class="py-2 px-4 border">Type</th>
              <th class="py-2 px-4 border">Shares</th>
              <th class="py-2 px-4 border">Price</th>
              <th class="py-2 px-4 border">Profit/Loss</th>
            </tr>
          </thead>
          <tbody>
            {% for t in portfolio.history %}
            <tr class="hover:bg-gray-100">
              <td class="py-2 px-4 border">{{ t.timestamp }}</td>
              <td class="py-2 px-4 border"><b>{{ t.stock }}</b></td>
              <td
                class="py-2 px-4 border"
                style="color: {% if t.action == 'BUY' %}green{% else %}red{% endif %};"
              >
                {{ t.action }}
              </td>
              <td class="py-2 px-4 border">{{ t.quantity }}</td>
              <td class="py-2 px-4 border">{{ t.price }}</td>
              <td class="py-2 px-4 border">{{ t.profit_loss }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <a href="{{ url_for('index') }}">Back to Home</a>
</div>
{% endblock %}